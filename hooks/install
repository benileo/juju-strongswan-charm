#!/usr/bin/env python


from lib.sshelpers import (
	ss_packages
)

from charmhelpers.core import hookenv
from charmhelpers.fetch import (
	apt_update,
	apt_install
)


# Install StrongSwan
def install():
    
    hookenv.log('Installing strongswan')
    
    # update packages 
    apt_update(fatal=False)

    # get the required packages based on configuration
    pkgs = ss_packages()

    # install the packages
    apt_install(packages=pkgs,fatal=True)

    hookenv.log('done installing strongswan')
    

if __name__ == "__main__":
    install()
